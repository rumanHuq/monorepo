type ChatOutput implements Base {
  messages: ID! @id
  passenger: ID! @id
  driver: ID! @id
  ride: ID! @id
}

type Chat implements Base @entity {
  messages: [Message!]! @link
  passenger: User @link
  driver: User @link
  ride: Ride! @link
}


extend type Query {
  CHAT_GET(chatId: String!): Chat
}
extend type Mutation {
  CHAT_SEND_MESSAGE(chatId: String!, text: String!): Message!
}

extend type Subscription {
  ON_MESSAGE: Message!
}
